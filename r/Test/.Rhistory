#Set workspace to the path:
setwd('d:/Projects/Github/iZDT/datamining-dp')
#load data:
topShop <- read.csv("data/topShopListWithLL.csv")
View(topShop)
View(topShop)
topShop <- read.csv('data/topShopListWithLL.csv', sep =',',header = T, encoding = 'UTF-8')
View(topShop)
View(topShop)
topShop <- read.csv('data/topShopListWithLL.csv', sep =',',header = T, encoding = 'UTF-8')
View(topShop)
View(topShop)
topShop <- read.csv('data/topShopListWithLL.csv', sep =',',header = T, encoding = 'UTF-8')
View(topShop)
View(topShop)
,
View(topShop)
View(topShop)
topShop <- read.csv('data/topShopListWithLL.csv', sep =',', header = T, encoding = 'UTF-8')
topShop <- read.csv('data/topShopListWithLL.csv', sep =',', header = T, encoding = 'UTF-8')
topShop <- read.csv('data/topShopListWithLL.csv', sep =',', header = T, encoding = 'UTF-8')
source('D:/Projects/Github/iZDT/datamining-dp/r/dm/showShopAtMap.r')
topShop <- read.csv('data/topShopListWithLL.csv', sep =',', header = T, encoding = 'UTF-8')
topShop <- read.csv('data/topShopListWithLL.csv', sep =',', header = T, encoding = 'UTF-8')
topShop <- read.table('data/topShopListWithLL.txt')
topShop <- read.table('data/topShopWithLL.txt')
View(topShop)
View(topShop)
topShop <- read.table('data/topShopWithLL.txt',  header = T, encoding = 'UTF-8')
View(topShop)
View(topShop)
#use sqldf library
library(sqldf)
totalSoldLL <- sqldf("select lng, lat, sum(sold) as totalSold, count(*) as shopNum from topShop group by lng,lat order by lat desc")
top100SoldLL <- totalSoldLL[order(totalSoldLL$totalSold,decreasing=TRUE),][c(1:100),]
topShopProcessData <- topShop[which(topShop$minFee<100 & topShop$minDeliverFee<50),]
qplot(minFee,minDeliverFee,data=topShopProcessData)
ggplot(data=topShopProcessData,aes(x=minFee,y=minDeliverFee,color=factor(extraService))) + geom_point()
library(ggplot2)
qplot(minFee,minDeliverFee,data=topShopProcessData)
ggplot(data=topShopProcessData,aes(x=minFee,y=minDeliverFee,color=factor(extraService))) + geom_point()
qplot(minFee, data=topShopProcessData, geom = "bar")
ggplot(data=topShopProcessData,aes(x=minFee))+geom_bar(aes(fill = minFee,position = "stack"))
p<-ggplot(topShopProcessData,aes(x=factor(1),fill=factor(class)))+geom_bar(width=1)
p+coord_polar(theta="y")
ggplot(data=topShopProcessData,aes(x=minFee))+geom_bar(aes(fill = minFee,position = "stack"))
qplot(minFee, data=topShopProcessData, geom = "density", color=factor(brand))
qplot(minDeliverFee, data=topShopProcessData, geom = "density", color=factor(brand))
qplot(deliverTime, data=topShopProcessData, geom = "density", color=factor(brand))
shopmap <- ggmap(map) +
geom_point(aes(x = lng, y = lat, size = round(totalSold), color= round(totalSold/50)), data = totalSoldLL, alpha = .6)
shopmap +scale_color_gradientn(colours = rainbow(7))
shopmap <- ggmap(map) +
geom_point(aes(x = lng, y = lat, size = round(totalSold), color= round(totalSold/50)), data = totalSoldLL, alpha = .6)
library(ggmap)
shopmap <- ggmap(map) +
geom_point(aes(x = lng, y = lat, size = round(totalSold), color= round(totalSold/50)), data = totalSoldLL, alpha = .6)
ggmap(map) +
geom_point(aes(x=lng, y=lat), data=totalSoldLL, col="orange", alpha=0.6, size=totalSoldLL$totalSold*0.00008) +
scale_size_continuous(range=range(totalSoldLL$totalSold))
